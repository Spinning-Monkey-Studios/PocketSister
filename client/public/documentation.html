<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>My Pocket Sister - Complete Documentation</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }
        
        body {
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif;
            line-height: 1.6;
            color: #333;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            min-height: 100vh;
        }
        
        .container {
            max-width: 1200px;
            margin: 0 auto;
            padding: 20px;
            background: white;
            margin-top: 40px;
            margin-bottom: 40px;
            box-shadow: 0 20px 60px rgba(0,0,0,0.1);
            border-radius: 15px;
        }
        
        .header {
            text-align: center;
            margin-bottom: 40px;
            padding: 30px 0;
            background: linear-gradient(135deg, #ff6b9d, #c44569);
            color: white;
            border-radius: 15px;
            margin: -20px -20px 40px -20px;
        }
        
        .header h1 {
            font-size: 2.5em;
            margin-bottom: 10px;
            text-shadow: 2px 2px 4px rgba(0,0,0,0.3);
        }
        
        .header p {
            font-size: 1.2em;
            opacity: 0.9;
        }
        
        .nav {
            background: #f8f9fa;
            padding: 20px;
            border-radius: 10px;
            margin-bottom: 30px;
            border-left: 4px solid #ff6b9d;
        }
        
        .nav h3 {
            color: #c44569;
            margin-bottom: 15px;
        }
        
        .nav ul {
            list-style: none;
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
            gap: 10px;
        }
        
        .nav a {
            color: #667eea;
            text-decoration: none;
            padding: 8px 12px;
            border-radius: 5px;
            transition: all 0.3s ease;
            display: block;
        }
        
        .nav a:hover {
            background: #667eea;
            color: white;
            transform: translateX(5px);
        }
        
        .section {
            margin-bottom: 40px;
            padding: 30px;
            background: #f8f9fa;
            border-radius: 10px;
            position: relative;
        }
        
        .section::before {
            content: '';
            position: absolute;
            left: 0;
            top: 0;
            height: 100%;
            width: 4px;
            background: linear-gradient(to bottom, #ff6b9d, #667eea);
            border-radius: 2px;
        }
        
        h2 {
            color: #c44569;
            font-size: 1.8em;
            margin-bottom: 20px;
            padding-bottom: 10px;
            border-bottom: 2px solid #ff6b9d;
        }
        
        h3 {
            color: #667eea;
            font-size: 1.3em;
            margin: 25px 0 15px 0;
        }
        
        h4 {
            color: #555;
            margin: 20px 0 10px 0;
        }
        
        .feature-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
            gap: 20px;
            margin: 20px 0;
        }
        
        .feature-card {
            background: white;
            padding: 20px;
            border-radius: 10px;
            box-shadow: 0 5px 15px rgba(0,0,0,0.1);
            border-left: 4px solid #ff6b9d;
        }
        
        .feature-card h4 {
            color: #c44569;
            margin: 0 0 10px 0;
        }
        
        .tech-stack {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
            gap: 20px;
            margin: 20px 0;
        }
        
        .tech-item {
            background: white;
            padding: 15px;
            border-radius: 8px;
            box-shadow: 0 3px 10px rgba(0,0,0,0.1);
        }
        
        .tech-item h4 {
            color: #667eea;
            margin: 0 0 10px 0;
        }
        
        .api-endpoint {
            background: #2d3748;
            color: #e2e8f0;
            padding: 15px;
            border-radius: 8px;
            margin: 10px 0;
            font-family: 'Courier New', monospace;
            overflow-x: auto;
        }
        
        .method {
            color: #68d391;
            font-weight: bold;
        }
        
        .url {
            color: #fbb6ce;
        }
        
        .status-badge {
            display: inline-block;
            padding: 4px 8px;
            border-radius: 4px;
            font-size: 0.8em;
            font-weight: bold;
            margin-left: 10px;
        }
        
        .implemented {
            background: #c6f6d5;
            color: #276749;
        }
        
        .testing {
            background: #feebc8;
            color: #c05621;
        }
        
        .planned {
            background: #e6fffa;
            color: #285e61;
        }
        
        .warning {
            background: #fed7d7;
            padding: 15px;
            border-radius: 8px;
            border-left: 4px solid #e53e3e;
            margin: 15px 0;
        }
        
        .info {
            background: #e6fffa;
            padding: 15px;
            border-radius: 8px;
            border-left: 4px solid #38b2ac;
            margin: 15px 0;
        }
        
        .success {
            background: #c6f6d5;
            padding: 15px;
            border-radius: 8px;
            border-left: 4px solid #38a169;
            margin: 15px 0;
        }
        
        code {
            background: #f7fafc;
            padding: 2px 6px;
            border-radius: 4px;
            font-family: 'Courier New', monospace;
            color: #2d3748;
        }
        
        .table-container {
            overflow-x: auto;
            margin: 20px 0;
        }
        
        table {
            width: 100%;
            border-collapse: collapse;
            background: white;
            border-radius: 8px;
            overflow: hidden;
            box-shadow: 0 3px 10px rgba(0,0,0,0.1);
        }
        
        th, td {
            padding: 12px 15px;
            text-align: left;
            border-bottom: 1px solid #e2e8f0;
        }
        
        th {
            background: #667eea;
            color: white;
            font-weight: 600;
        }
        
        tr:hover {
            background: #f7fafc;
        }
        
        .footer {
            text-align: center;
            margin-top: 40px;
            padding-top: 20px;
            border-top: 2px solid #e2e8f0;
            color: #666;
        }
        
        @media (max-width: 768px) {
            .container {
                margin: 10px;
                padding: 15px;
            }
            
            .header h1 {
                font-size: 2em;
            }
            
            .nav ul {
                grid-template-columns: 1fr;
            }
        }
    </style>
</head>
<body>
    <div class="container">
        <div class="header">
            <h1>My Pocket Sister</h1>
            <p>Complete Platform Documentation & Admin Guide</p>
            <small>Last Updated: January 31, 2025</small>
        </div>

        <div class="nav">
            <h3>Quick Navigation</h3>
            <ul>
                <li><a href="#overview">Platform Overview</a></li>
                <li><a href="#features">Core Features</a></li>
                <li><a href="#architecture">Technical Architecture</a></li>
                <li><a href="#stage2">Stage 2 Implementation</a></li>
                <li><a href="#testing">Testing System</a></li>
                <li><a href="#api">API Documentation</a></li>
                <li><a href="#admin">Admin Functions</a></li>
                <li><a href="#deployment">Deployment Guide</a></li>
                <li><a href="#troubleshooting">Troubleshooting</a></li>
            </ul>
        </div>

        <section id="overview" class="section">
            <h2>Platform Overview</h2>
            <p><strong>My Pocket Sister</strong> is a comprehensive SaaS platform providing AI-powered virtual companions for young girls aged 10-14. The platform serves as a "big sister" figure, offering deep personalization, proactive support, and guidance on relationships and wellness.</p>
            
            <div class="success">
                <strong>Current Status:</strong> Stage 2 implementation completed (July 2025) with proactive AI companion features, automated daily affirmations, mood tracking, goal setting, and tier-based feature restrictions.
            </div>

            <h3>Mission Statement</h3>
            <p>To provide a safe, supportive digital environment where young girls can receive personalized guidance, emotional support, and encouragement through AI-powered companionship that adapts to their individual needs and growth.</p>

            <h3>Target Audience</h3>
            <ul>
                <li><strong>Primary Users:</strong> Young girls aged 10-14</li>
                <li><strong>Secondary Users:</strong> Parents and guardians (monitoring and insights)</li>
                <li><strong>Market Segment:</strong> Digital wellness, AI companionship, educational technology</li>
            </ul>
        </section>

        <section id="features" class="section">
            <h2>Core Features</h2>
            
            <div class="feature-grid">
                <div class="feature-card">
                    <h4>üîê Authentication & Security</h4>
                    <p>Replit Auth integration with multi-provider OAuth support (Google, Meta, Yahoo, Microsoft, LinkedIn). Secure session management and user profile protection.</p>
                    <span class="status-badge implemented">‚úì Implemented</span>
                </div>

                <div class="feature-card">
                    <h4>üí≥ Subscription Management</h4>
                    <p>Three-tier pricing system (Basic, Premium, Family) with Stripe integration, 7-day free trials, and comprehensive billing management.</p>
                    <span class="status-badge implemented">‚úì Implemented</span>
                </div>

                <div class="feature-card">
                    <h4>‚ú® Daily Affirmations</h4>
                    <p>Automated personalized daily encouragement messages delivered at 8 AM, with personality-based content adaptation and tier-based limits.</p>
                    <span class="status-badge implemented">‚úì Stage 2</span>
                </div>

                <div class="feature-card">
                    <h4>üìä Mood Tracking</h4>
                    <p>30-day emotional analytics with trend visualization, daily mood logging, and wellness insights for premium users.</p>
                    <span class="status-badge implemented">‚úì Stage 2</span>
                </div>

                <div class="feature-card">
                    <h4>üéØ Goal Setting</h4>
                    <p>Progress tracking with visual charts, achievement celebrations, and milestone management for personal development.</p>
                    <span class="status-badge implemented">‚úì Stage 2</span>
                </div>

                <div class="feature-card">
                    <h4>ü§ñ AI Companion Chat</h4>
                    <p>Proactive AI "Stella" with personality adaptation, memory-based conversations, and tier-specific response sophistication.</p>
                    <span class="status-badge implemented">‚úì Stage 2</span>
                </div>

                <div class="feature-card">
                    <h4>üë®‚Äçüë©‚Äçüëß‚Äçüë¶ Child Profile Management</h4>
                    <p>Multiple child profiles per family account with individual preferences, AI personalities, and progress tracking.</p>
                    <span class="status-badge implemented">‚úì Implemented</span>
                </div>

                <div class="feature-card">
                    <h4>üé® AI Avatar Creation</h4>
                    <p>DALL-E powered avatar generation with customization options and personality-matched visual designs.</p>
                    <span class="status-badge implemented">‚úì Implemented</span>
                </div>

                <div class="feature-card">
                    <h4>üëë Admin Portal</h4>
                    <p>Comprehensive admin controls for user management, subscription oversight, system announcements, and platform analytics.</p>
                    <span class="status-badge implemented">‚úì Implemented</span>
                </div>

                <div class="feature-card">
                    <h4>üì± Mobile Support</h4>
                    <p>Hybrid WebView wrappers for Android and iOS with push notifications, biometric authentication, and deep linking.</p>
                    <span class="status-badge planned">üìã Planned</span>
                </div>

                <div class="feature-card">
                    <h4>üîä Voice Features</h4>
                    <p>Voice-to-text input and optional ElevenLabs voice responses for enhanced interaction accessibility.</p>
                    <span class="status-badge planned">üìã Planned</span>
                </div>

                <div class="feature-card">
                    <h4>üìß Email Integration</h4>
                    <p>Bluehost SMTP integration for notifications, trial management, and parent communication.</p>
                    <span class="status-badge implemented">‚úì Implemented</span>
                </div>
            </div>
        </section>

        <section id="architecture" class="section">
            <h2>Technical Architecture</h2>

            <h3>Frontend Architecture</h3>
            <div class="tech-stack">
                <div class="tech-item">
                    <h4>Core Framework</h4>
                    <p><strong>React 18</strong> with TypeScript for type-safe component development and modern React features.</p>
                </div>
                <div class="tech-item">
                    <h4>Styling System</h4>
                    <p><strong>Tailwind CSS</strong> with custom design system and <strong>shadcn/ui</strong> component library for consistent UI.</p>
                </div>
                <div class="tech-item">
                    <h4>State Management</h4>
                    <p><strong>TanStack Query</strong> for server state management with intelligent caching and synchronization.</p>
                </div>
                <div class="tech-item">
                    <h4>Routing</h4>
                    <p><strong>Wouter</strong> for lightweight client-side routing with excellent performance.</p>
                </div>
                <div class="tech-item">
                    <h4>Build System</h4>
                    <p><strong>Vite</strong> with React plugin for fast development and optimized production builds.</p>
                </div>
                <div class="tech-item">
                    <h4>UI Components</h4>
                    <p><strong>Radix UI</strong> primitives with <strong>Lucide React</strong> icons for accessible, customizable components.</p>
                </div>
            </div>

            <h3>Backend Architecture</h3>
            <div class="tech-stack">
                <div class="tech-item">
                    <h4>Runtime & Framework</h4>
                    <p><strong>Node.js</strong> with <strong>Express.js</strong> REST API for scalable server-side operations.</p>
                </div>
                <div class="tech-item">
                    <h4>Database System</h4>
                    <p><strong>PostgreSQL</strong> with <strong>Drizzle ORM</strong> for type-safe database operations and migrations.</p>
                </div>
                <div class="tech-item">
                    <h4>Authentication</h4>
                    <p><strong>Replit Auth</strong> with multi-provider OAuth and secure session management via PostgreSQL store.</p>
                </div>
                <div class="tech-item">
                    <h4>Payment Processing</h4>
                    <p><strong>Stripe</strong> integration with subscription billing, trial management, and webhook handling.</p>
                </div>
                <div class="tech-item">
                    <h4>AI Integration</h4>
                    <p>Multi-provider AI system supporting <strong>OpenAI</strong>, <strong>Google Gemini</strong>, and built-in responses.</p>
                </div>
                <div class="tech-item">
                    <h4>Email Services</h4>
                    <p><strong>Bluehost SMTP</strong> and <strong>SendGrid</strong> for transactional emails and notifications.</p>
                </div>
            </div>

            <h3>Project Structure</h3>
            <div class="api-endpoint">
<strong>Monorepo Layout:</strong>
‚îú‚îÄ‚îÄ client/          # React frontend application
‚îÇ   ‚îú‚îÄ‚îÄ src/
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ components/  # Reusable UI components
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ pages/       # Route-specific page components
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ hooks/       # Custom React hooks
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ lib/         # Utility functions and configurations
‚îú‚îÄ‚îÄ server/          # Express.js backend API
‚îÇ   ‚îú‚îÄ‚îÄ routes.ts        # API endpoint definitions
‚îÇ   ‚îú‚îÄ‚îÄ storage.ts       # Database abstraction layer
‚îÇ   ‚îú‚îÄ‚îÄ auth.ts          # Authentication middleware
‚îÇ   ‚îî‚îÄ‚îÄ services/        # Business logic services
‚îú‚îÄ‚îÄ shared/          # Common schemas and types
‚îÇ   ‚îî‚îÄ‚îÄ schema.ts        # Drizzle database schemas
‚îî‚îÄ‚îÄ mobile/          # Mobile app wrappers (planned)
            </div>
        </section>

        <section id="stage2" class="section">
            <h2>Stage 2 Implementation Details</h2>
            
            <div class="success">
                <strong>Completion Status:</strong> Stage 2 successfully implemented in July 2025, featuring proactive AI companion capabilities with automated systems and tier-based restrictions.
            </div>

            <h3>Proactive AI Companion Features</h3>
            
            <h4>Daily Affirmations System</h4>
            <ul>
                <li><strong>Automated Delivery:</strong> Personalized messages sent daily at 8:00 AM</li>
                <li><strong>Personality Adaptation:</strong> Content tailored to individual child personalities and interaction history</li>
                <li><strong>Tier-Based Limits:</strong> Basic (1 message), Premium (3 messages), Family (5 messages)</li>
                <li><strong>Content Categories:</strong> Encouragement, goal motivation, emotional support, academic confidence</li>
            </ul>

            <h4>Mood Tracking Analytics</h4>
            <ul>
                <li><strong>Daily Logging:</strong> Simple emotion selection with optional notes</li>
                <li><strong>30-Day Trends:</strong> Visual analytics showing emotional patterns</li>
                <li><strong>Wellness Insights:</strong> AI-generated observations and suggestions</li>
                <li><strong>Parent Visibility:</strong> Anonymized trend reporting for Family tier</li>
            </ul>

            <h4>Goal Setting & Progress</h4>
            <ul>
                <li><strong>Visual Progress:</strong> Chart-based tracking with milestone celebrations</li>
                <li><strong>Smart Reminders:</strong> Contextual prompts based on goal types and deadlines</li>
                <li><strong>Achievement System:</strong> Badges and rewards for goal completion</li>
                <li><strong>AI Coaching:</strong> Personalized advice for goal achievement</li>
            </ul>

            <h4>Advanced Personality AI</h4>
            <ul>
                <li><strong>Memory System:</strong> Conversation history and preference learning</li>
                <li><strong>Proactive Initiation:</strong> AI starts conversations based on user patterns</li>
                <li><strong>Emotional Intelligence:</strong> Responds appropriately to mood and context</li>
                <li><strong>Growth Adaptation:</strong> Conversation style evolves with user development</li>
            </ul>

            <h3>Tier-Based Feature Matrix</h3>
            <div class="table-container">
                <table>
                    <thead>
                        <tr>
                            <th>Feature</th>
                            <th>Basic Tier</th>
                            <th>Premium Tier</th>
                            <th>Family Tier</th>
                        </tr>
                    </thead>
                    <tbody>
                        <tr>
                            <td>Daily Affirmations</td>
                            <td>1 message/day</td>
                            <td>3 messages/day</td>
                            <td>5 messages/day</td>
                        </tr>
                        <tr>
                            <td>Mood Tracking</td>
                            <td>‚ùå Not available</td>
                            <td>‚úÖ Full access</td>
                            <td>‚úÖ Full access + insights</td>
                        </tr>
                        <tr>
                            <td>Goal Setting</td>
                            <td>‚ùå Not available</td>
                            <td>‚úÖ Personal goals</td>
                            <td>‚úÖ Family goals + sharing</td>
                        </tr>
                        <tr>
                            <td>AI Personality</td>
                            <td>Basic responses</td>
                            <td>Advanced memory</td>
                            <td>Advanced + proactive</td>
                        </tr>
                        <tr>
                            <td>Parent Insights</td>
                            <td>‚ùå Not available</td>
                            <td>‚ùå Not available</td>
                            <td>‚úÖ Full dashboard</td>
                        </tr>
                    </tbody>
                </table>
            </div>
        </section>

        <section id="testing" class="section">
            <h2>Testing System</h2>
            
            <div class="info">
                <strong>Test Mode Active:</strong> In development environment, all premium features are unlocked for comprehensive testing without payment restrictions.
            </div>

            <h3>Test Dashboard Features</h3>
            <p>Access via <code>/test</code> route for comprehensive feature testing:</p>
            
            <ul>
                <li><strong>Feature Testing:</strong> Individual endpoint testing for all Stage 2 capabilities</li>
                <li><strong>Authentication Testing:</strong> User login/logout flow verification</li>
                <li><strong>Subscription Testing:</strong> All tier features accessible without payment</li>
                <li><strong>AI Response Testing:</strong> Built-in responses without API key requirements</li>
                <li><strong>Database Testing:</strong> Full CRUD operations for all data models</li>
                <li><strong>Real-time Testing:</strong> Live feature status monitoring and validation</li>
            </ul>

            <h3>Available Test Routes</h3>
            <div class="api-endpoint">
<span class="method">GET</span> <span class="url">/test</span> - Main testing dashboard
<span class="method">GET</span> <span class="url">/api/test-mode</span> - Test mode status and features
<span class="method">GET</span> <span class="url">/daily-affirmations</span> - Affirmations testing page
<span class="method">GET</span> <span class="url">/mood-tracker</span> - Mood tracking testing page
            </div>

            <h3>Testing Workflow</h3>
            <ol>
                <li><strong>Access Test Dashboard:</strong> Navigate to <code>/test</code> to view all testable features</li>
                <li><strong>Run Feature Tests:</strong> Click "Test Feature" on individual components to verify functionality</li>
                <li><strong>Create Test Profiles:</strong> Set up child profiles with various personality settings</li>
                <li><strong>Test AI Interactions:</strong> Engage with chat system to verify proactive responses</li>
                <li><strong>Verify Data Persistence:</strong> Check that mood logs, goals, and affirmations save correctly</li>
                <li><strong>Review Analytics:</strong> Confirm trend visualizations and progress tracking work properly</li>
            </ol>
        </section>

        <section id="api" class="section">
            <h2>API Documentation</h2>

            <h3>Authentication Endpoints</h3>
            <div class="api-endpoint">
<span class="method">GET</span> <span class="url">/api/auth/user</span> - Get current user information
<span class="method">GET</span> <span class="url">/api/login</span> - Initiate OAuth login flow
<span class="method">GET</span> <span class="url">/api/logout</span> - End user session and logout
<span class="method">GET</span> <span class="url">/api/callback</span> - OAuth callback handler
            </div>

            <h3>Child Profile Management</h3>
            <div class="api-endpoint">
<span class="method">GET</span> <span class="url">/api/child-profiles</span> - List all child profiles for user
<span class="method">POST</span> <span class="url">/api/child-profiles</span> - Create new child profile
<span class="method">PUT</span> <span class="url">/api/child-profiles/:id</span> - Update child profile
<span class="method">DELETE</span> <span class="url">/api/child-profiles/:id</span> - Delete child profile
            </div>

            <h3>Stage 2 Proactive Features</h3>
            <div class="api-endpoint">
<span class="method">GET</span> <span class="url">/api/daily-affirmations</span> - Get affirmations for child
<span class="method">POST</span> <span class="url">/api/daily-affirmations</span> - Create new affirmation
<span class="method">GET</span> <span class="url">/api/mood-entries/:childId</span> - Get mood history
<span class="method">POST</span> <span class="url">/api/mood-entries</span> - Log new mood entry
<span class="method">GET</span> <span class="url">/api/child-goals/:childId</span> - Get child's goals
<span class="method">POST</span> <span class="url">/api/child-goals</span> - Create new goal
<span class="method">PUT</span> <span class="url">/api/child-goals/:id</span> - Update goal progress
            </div>

            <h3>AI Chat System</h3>
            <div class="api-endpoint">
<span class="method">GET</span> <span class="url">/api/conversations/:childId</span> - Get chat history
<span class="method">POST</span> <span class="url">/api/chat</span> - Send message to AI companion
<span class="method">GET</span> <span class="url">/api/personality/:childId</span> - Get AI personality data
<span class="method">PUT</span> <span class="url">/api/personality/:childId</span> - Update personality traits
            </div>

            <h3>Subscription & Billing</h3>
            <div class="api-endpoint">
<span class="method">GET</span> <span class="url">/api/pricing-plans</span> - List available subscription tiers
<span class="method">GET</span> <span class="url">/api/subscription</span> - Get user's subscription status
<span class="method">POST</span> <span class="url">/api/create-subscription</span> - Start subscription process
<span class="method">POST</span> <span class="url">/api/stripe/webhook</span> - Handle Stripe webhooks
            </div>

            <h3>Admin Functions</h3>
            <div class="api-endpoint">
<span class="method">GET</span> <span class="url">/api/admin/users</span> - List all platform users
<span class="method">GET</span> <span class="url">/api/admin/analytics</span> - Platform usage analytics  
<span class="method">POST</span> <span class="url">/api/admin/announcements</span> - Create system announcement
<span class="method">PUT</span> <span class="url">/api/admin/users/:id/subscription</span> - Modify user subscription
            </div>

            <h3>Response Formats</h3>
            <p>All API endpoints return JSON responses with consistent structure:</p>
            <div class="api-endpoint">
// Success Response
{
  "success": true,
  "data": { ... },
  "message": "Optional success message"
}

// Error Response  
{
  "success": false,
  "error": "Error description",
  "code": "ERROR_CODE"
}
            </div>
        </section>

        <section id="admin" class="section">
            <h2>Admin Functions</h2>

            <h3>Admin Portal Access</h3>
            <p>Admin portal is accessible at <code>/admin</code> route for users with admin privileges. Key administrative functions include:</p>

            <div class="feature-grid">
                <div class="feature-card">
                    <h4>User Management</h4>
                    <p>View all registered users, subscription statuses, child profiles, and usage analytics. Ability to modify subscriptions and access levels.</p>
                </div>

                <div class="feature-card">
                    <h4>Platform Analytics</h4>
                    <p>Comprehensive metrics including user engagement, feature adoption, subscription conversions, and AI interaction patterns.</p>
                </div>

                <div class="feature-card">
                    <h4>Content Management</h4>
                    <p>Manage system announcements, motivational message categories, and AI response templates for improved user experience.</p>
                </div>

                <div class="feature-card">
                    <h4>Subscription Control</h4>
                    <p>Override user subscription tiers, extend trial periods, handle billing disputes, and configure pricing plan features.</p>
                </div>

                <div class="feature-card">
                    <h4>Safety Monitoring</h4>
                    <p>Review AI conversations for safety compliance, manage content flagging, and ensure child protection protocols.</p>
                </div>

                <div class="feature-card">
                    <h4>System Health</h4>
                    <p>Monitor server performance, database health, API response times, and integration status with external services.</p>
                </div>
            </div>

            <h3>Admin Privileges</h3>
            <p>Admin access is controlled through the <code>isAdmin</code> field in the user profile. Only designated administrators can:</p>
            <ul>
                <li>Access the admin portal and administrative functions</li>
                <li>View sensitive user data and conversation logs</li>
                <li>Modify subscription tiers and payment settings</li>
                <li>Create system-wide announcements and notifications</li>
                <li>Export user data and generate compliance reports</li>
                <li>Configure AI behavior and safety parameters</li>
            </ul>

            <div class="warning">
                <strong>Security Note:</strong> Admin privileges should be granted sparingly and regularly reviewed. All admin actions are logged for security and compliance purposes.
            </div>
        </section>

        <section id="deployment" class="section">
            <h2>Deployment Guide</h2>

            <h3>Replit Deployment</h3>
            <p>The application is designed for deployment on Replit's platform with automatic scaling and monitoring:</p>

            <ol>
                <li><strong>Environment Setup:</strong> Configure required environment variables including database URL, Stripe keys, and OAuth credentials.</li>
                <li><strong>Database Migration:</strong> Run <code>npm run db:push</code> to initialize database schema and tables.</li>
                <li><strong>Build Process:</strong> Execute <code>npm run build</code> to create optimized production assets.</li>
                <li><strong>Deployment:</strong> Use Replit's built-in deployment system to publish the application.</li>
                <li><strong>Domain Configuration:</strong> Set up custom domain if required or use provided replit.app subdomain.</li>
                <li><strong>SSL/TLS:</strong> Automatic SSL certificate provisioning through Replit's infrastructure.</li>
            </ol>

            <h3>Required Environment Variables</h3>
            <div class="table-container">
                <table>
                    <thead>
                        <tr>
                            <th>Variable</th>
                            <th>Purpose</th>
                            <th>Required</th>
                        </tr>
                    </thead>
                    <tbody>
                        <tr>
                            <td><code>DATABASE_URL</code></td>
                            <td>PostgreSQL connection string</td>
                            <td>‚úÖ Yes</td>
                        </tr>
                        <tr>
                            <td><code>SESSION_SECRET</code></td>
                            <td>Session encryption key</td>
                            <td>‚úÖ Yes</td>
                        </tr>
                        <tr>
                            <td><code>STRIPE_SECRET_KEY</code></td>
                            <td>Stripe payment processing</td>
                            <td>‚úÖ Yes</td>
                        </tr>
                        <tr>
                            <td><code>VITE_STRIPE_PUBLIC_KEY</code></td>
                            <td>Stripe frontend integration</td>
                            <td>‚úÖ Yes</td>
                        </tr>
                        <tr>
                            <td><code>OPENAI_API_KEY</code></td>
                            <td>OpenAI API access (optional)</td>
                            <td>‚ùå Optional</td>
                        </tr>
                        <tr>
                            <td><code>GEMINI_API_KEY</code></td>
                            <td>Google Gemini API (optional)</td>
                            <td>‚ùå Optional</td>
                        </tr>
                        <tr>
                            <td><code>SENDGRID_API_KEY</code></td>
                            <td>Email service integration</td>
                            <td>‚ùå Optional</td>
                        </tr>
                    </tbody>
                </table>
            </div>

            <h3>Production Checklist</h3>
            <ul>
                <li>‚úÖ All environment variables configured and tested</li>
                <li>‚úÖ Database schema migrated and populated with initial data</li>
                <li>‚úÖ Stripe webhook endpoints configured and verified</li>
                <li>‚úÖ OAuth providers registered with production domains</li>
                <li>‚úÖ Email templates configured and tested</li>
                <li>‚úÖ Admin accounts created and privileges assigned</li>
                <li>‚úÖ Security headers and HTTPS enforced</li>
                <li>‚úÖ Performance monitoring and error logging enabled</li>
                <li>‚úÖ Backup and recovery procedures established</li>
                <li>‚úÖ Legal compliance documentation updated</li>
            </ul>
        </section>

        <section id="troubleshooting" class="section">
            <h2>Troubleshooting Guide</h2>

            <h3>Common Issues</h3>

            <h4>Authentication Problems</h4>
            <div class="warning">
                <strong>Issue:</strong> Users can't log in or receive 401 Unauthorized errors
            </div>
            <p><strong>Solutions:</strong></p>
            <ul>
                <li>Verify OAuth provider configurations and redirect URLs</li>
                <li>Check session secret and database connection</li>
                <li>Ensure HTTPS is enabled for production domains</li>
                <li>Clear browser cookies and local storage</li>
            </ul>

            <h4>Database Connection Issues</h4>
            <div class="warning">
                <strong>Issue:</strong> Database connection failures or schema errors
            </div>
            <p><strong>Solutions:</strong></p>
            <ul>
                <li>Verify DATABASE_URL environment variable is correct</li>
                <li>Run <code>npm run db:push</code> to sync schema changes</li>
                <li>Check PostgreSQL service status and connectivity</li>
                <li>Review database logs for connection limits or errors</li>
            </ul>

            <h4>Payment Processing Problems</h4>
            <div class="warning">
                <strong>Issue:</strong> Stripe payments failing or webhooks not working
            </div>
            <p><strong>Solutions:</strong></p>
            <ul>
                <li>Verify Stripe API keys are correct and have proper permissions</li>
                <li>Check webhook endpoint URLs and signing secrets</li>
                <li>Test payment flow in Stripe's test mode first</li>
                <li>Review Stripe dashboard for failed payments and errors</li>
            </ul>

            <h4>AI Features Not Working</h4>
            <div class="warning">
                <strong>Issue:</strong> AI responses not generating or failing
            </div>
            <p><strong>Solutions:</strong></p>
            <ul>
                <li>Check if AI API keys are provided and valid</li>
                <li>Verify API rate limits and usage quotas</li>
                <li>Test with built-in fallback responses first</li>
                <li>Review AI provider documentation for changes</li>
            </ul>

            <h3>Debug Mode</h3>
            <p>Enable debug logging by setting <code>NODE_ENV=development</code> to get detailed error information and request logging.</p>

            <h3>Performance Optimization</h3>
            <ul>
                <li><strong>Database:</strong> Monitor query performance and add indexes for frequently accessed data</li>
                <li><strong>Caching:</strong> Implement Redis caching for API responses and session data</li>
                <li><strong>CDN:</strong> Use content delivery network for static assets and images</li>
                <li><strong>Monitoring:</strong> Set up application performance monitoring and alerting</li>
            </ul>

            <h3>Getting Help</h3>
            <p>For additional support:</p>
            <ul>
                <li>Check the console logs for detailed error messages</li>
                <li>Review the test dashboard at <code>/test</code> for system status</li>
                <li>Consult the API documentation for correct endpoint usage</li>
                <li>Contact development team with specific error messages and steps to reproduce</li>
            </ul>
        </section>

        <div class="footer">
            <p><strong>My Pocket Sister Platform Documentation</strong></p>
            <p>Version 2.0 | Last Updated: January 31, 2025</p>
            <p>For technical support or questions, please contact the development team.</p>
        </div>
    </div>
</body>
</html>